# 23.01.30. 객체 지향

# 절차 지향 프로그래밍

프로그램 전체가 유기적인 흐름으로 연결

기능 중심 프로그램

순서가 정해져 있으므로 실행이 빠름

오류, 고쳐야 하는 상황이 발생했을 때 잡기가 어려움

절차지향 방법론은 생산성이 너무 낮다. → 데이터 중심 생각

데ㅣ터를 중심으로 절차를 도입해서 현실의 사물을 나타내고 이런 것들을 조립하는 방식으로 개발.

# 객체 지향 프로그래밍

## 객체 지향 프로그래밍

프로그램을 여러개의 독립된 객체들과 그 객체 간의 상호작용으로 파악하는 프로그래밍 방법

object(객체) 안에 data가 있고 이러한 데이터들을 활용한 함수(methods)들이 있다.

## 객체 지향 프로그래밍이 필요한 이유

현실 세계를 프로그램 설계에 반영

## 객체 지향의 장점과 단점

### 장점

- 객체는 잘 만들어 놓으면 계속해서 재사용 가능
- 객체는 그 자체로 데이터와 행동이 정의된다. 개발자가 내부 구조를 몰라도 그냥 가져다가 다른 객체와 조립하면서 개발이 가능하다
- 객체 단위로 모듈화시켜 개발할 수 있으므로 많은 인원이 참여하는 대규모 소프트웨어 개발 가능
- **개발 용이성, 유지 보수 편의성, 신뢰성을 바탕으로 생산성 증가.**

### 단점

- 설계 시 많은 노력과 시간이 필요
- 다양한 객체들의 상호 작용 구조를 만들기 위해 많은 시간과 노력이 필요
- 실행 속도가 상대적으로 느리다

# OOP 기초

## 객체

컴퓨터 과학에서 **객체 또는 object**는 **클래스에서 정의한 것을 토대로 메모리(실제 저장공간)에 할당된 것**으로 프로그램에서 사용되는 데이터 또는 식별자에 의해 참조되는 공간을 의미하며 병수, 자료 구조, 함수 또는 메서드가 될 수 있다.

객체 : 속성과 행동으로 구성된 모든 것

## 객체와 인스턴스

클래스로 만든 객체를 인스턴스라고도 한다

클래스(설계도) 가수 → 이찬혁

사용하고 있던 자료형들도 모두 클래스였다

```python
print(type('abc'))

# <class 'str'>
```

이러한 자료형들을 사용해서 선언한 변수들이 인스턴스인 것.

`.append()` 는 `class List` 이러한 클래스에 정의된 append함수를 가져와 쓰고 있던 것.

이러한 사실들을 몰라도 잘 사용할 수 있었던 것으로 객체 지향 프로그래밍의 장점을 볼 수 있다.

`'banna'.upper()` == `객체.행동()`

객체의 특징

- 타입: 어떤 연산자(operator)와 조작(method)이 가능한가?
- 속성(attribute): 어떤 상태(데이터)를 가지는가?
- 조작법(method): 어떤 행위(함수)를 할 수 있는가?

# 객체와 클래스 문법

## 기본 문법

**클래스 정의** : `class Myclass` (타입을 만들어 준다)

**인스턴스 생성** : `my_instance = MyClass()`

**매서드 호출** : `my_instance.my_method()`

**속성  접근** : `my_instance.my_attribute`

```python
class Person:
		pass
print(type(Person)) #  <class 'type'> 
"""
클래스 선언 마저 타입 클래스의 인스턴스인 것
"""

person1 = Person()
print(isinstance(person1, Person)) # True
# 앞의 것이 뒤의 인스턴스인지 알려주는 함수
```

## 객체 비교하기

- ==
    - 동등한(equal)
    - 변수가 참조하는 객체가 동등(내용이 같은)한 경우 True
    - 두 객체가 같아 보이지만 실제로 동일한 대상을 가리키고 있다고 확인해 준 것은 아님
- is
    - 동일한(identical)
    - 두 변수가 동일한 객체를 가리키는 경우 True
    
    ```python
    a = [1, 2, 3]
    b = [1, 2, 3]
    
    print(a == b, a is b) # True False
    
    a = [1, 2, 3]
    b = a
    
    print(a == b, a is b) # True True
    ```
    

## 속성

- 특정 데이터 타입/클래스의 객체들이 가지게 될 상태나 데이터 의미
- 클래스 변수, 인스턴스 변수가 존재

## 인스턴스와 클래스 간의 이름공간

- 클래스슬 정의하면 클래스와 해당하는 이름 공간 생성
- 인스턴스를 만들면 인스턴스 객체가 생성되고 이름 공간 생성
- 인스턴스에서 특정 속성에 접근하면 인스턴스-클래스 순으로 탐색한다.

## 인스턴스 변수

- 인스턴스 변수
    - 인스턴스가 개인적으로 가지고 있는 속성(attribute)
    - 각 인스턴스들의 고유한 변수
- 생성자 메서드 (__init__)에서 self.<name>으로 정의
- 인스턴스가 생성된 이후 <instance>.<name>으로 접근 및 할당

## self

- **인스턴스 자기 자신**
- 파이썬에서 인스턴스 메서드는 호출 시 첫번째 인자로 인스턴스 자신이 전달되게 설계

# OOP Methods

## 메서드

특정 데이터 타입, 클래스의 객체에 공통적으로 적용 가능한 행위(함수)

## 매서드의 종류

- 인스턴스 매서드
    - most common
    - must have self parameter
    - 인스턴스 변수를 활용하고 싶을 때 쓰는 함수
- 클래스 매서드
    - 클래스 단위에서 공통적으로 가지고 싶을 때 사용.
    - 현재 단계에서 사용할 일 별로 없음.
- 정적 매서드
    - 인스턴스, 클래스 변수 둘 다 필요 없을 때
    - 사용할 일 현재 단계에서는 거의 없음

## 인스턴스 매서드

- 인스턴스 변수를 사용하거나 인스턴스 변수에 값을 설정하는 매서드.
- 클래스 내부에 정의되는 매서드의 기본
- 호출 시 첫번째 인자로 인스턴스 자기자신(self)이 자동으로 전달
- 우리가 대부분 사용하는 매서드

## 매직 매서드

- Double underscore(__)가 있는 매서드는 특수한 동작을 위해 만들어진 매서드로 스페셜 메서드 혹은 매직 매서드로 불림
- 특정 상황에 자동으로 불리는 매서드.

```python
class Person:
		def __init__(self, name, age):
				self.name = name
				self.age = age
				print('생성 될 때 자동으로 불려요')
"""
__init__은 생성될 때 자동으로 불린다.
따라서 위 class를 호출하면 
속성 두 개 설정과 print문 출력이 된다.
"""
		def __str__(self):
				return '이 클래스를 하나의 문자열로 표현'

john = Person('john', 23)
print(john) # __str__은 마치 문자열처럼 취급
```

- `__str__` 이 객체른 문자열로 표현하면 어떻게 표현할지 지정
- `__gt__` : 부등호 연산자(greater than)

## 클래스 매서드

@classmethod 데코레이터를 사용하여 정의

호출 시 첫번째 인자로 클래스가 전달된다