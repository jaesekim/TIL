# 23.02.09. 문자열 비교

# 알고리즘 풀이 인사이트

같은 결과를 낸다 하더라도 리스트 컴프리헨션이 빠르다.

# 문자열

- 파이썬에서는 `==` 연산자와 `is` 연산자를 사용한다

## 문자열 숫자를 정수로 변환하기

- int()와 같은 atoi()함수 만들기

```python
def atoi(s):
		i = 0
		for x in s:
				i = i*10 + ord(x) - ord('0')
		return i
```

## 패턴 매칭

고지식한 패턴 검색, 카프-라빈, KMP, 보이어-무어

### 고지식한 알고리즘

본문 문자열을 처음부터 끝까지 차례대로 순회하면서 패턴 내의 문자들을 일일히 비교하는 방식

```python
p = 'ab'
t = 'aaaabaaaaabaaaaab'
M = len(p)
N = len(t)

def bf(p, t):
		i = 0  # t에서의 비교위치
		j = 0  # p에서의 비교위치
		while i < N and j < M:  # 비교할 문장이 남아있고 패턴을 찾기 전이면
				if t[i] != p[j]:  # 서로 다른 글자를 만나면
						i -= j  # 비교를 시작한 위치로
						j = -1  # 패턴의 시작 전으로 if 빠져나가면 +1 해줘서 0으로 초기화
				i += 1
				j += 1
		if j == M:
				return i - M
		else:
				return -1
```

### KMP 알고리즘

- 불일치가 발생한 텍스트 스트링의 앞 부분에 어떤 문자가 있는지를 미리 알고 있으므로, 불일치가 발생한 앞 부분에 대하여 다시 비교하지 않고 매칭을 수행
- 패턴을 전처리하여 배열 next[M]을 구해서 잘못된 시작을 최소화
- 시간 복잡도: *O*(M+N)

### 보이어-무어 알고리즘

- 오른쪽에서 왼쪽으로 비교
- 대부분의 상용 소프트웨어에서 채택
- 보이어-무어 알고리즘은 패턴에 오른쪽 끝에 있는 문자가 불일치하고 이 문자가 패턴 내에 존재하지 않는 경우 이동거리는 패턴의 길이만큼 된다.

```
T[] : [...b w a t e r ... ]
P[] : [w a t e r]
```

- 만약 오른쪽 끝에 있는 문자가 불일치 하지만 이 문자가 패턴 내에 존재할 경우에는 패턴에서 일치하는 문자를 찾아서 맞춰준다
```
aaaw**a**ter
wate**r**

a, r은 다르지만 a가 패턴안에 있다.
-> 
aaawater
   water
세칸 점프
```